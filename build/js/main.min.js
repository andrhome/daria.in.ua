"use strict";var app={},BASE_URL="templates/",homeTemplateUrl=BASE_URL+"home.html";$(document).ready(function(){function t(){!function(){AOS.init({easing:"ease"})}(),function(){function t(t){var o=$("#header");if(0!==t.length){var n=t.offset().top;$(window).scrollTop()>=n?o.addClass("fixed"):o.removeClass("fixed")}}$(window).scroll(function(){t($("#mainTitle")),t($(".fixed-header-flag"))})}(),function(){function t(t){t<10?e.text("0"+t):e.text(t)}function o(){var t=$(c[0]).data("name"),o=$(c[0]).data("number");e.text("0"+o),a.text(t)}function n(e){if($(c[e]).offset()){var i=$(c[e]).offset().top-250;if($(window).scrollTop()>i){var r=$(c[e]).data("name");t($(c[e]).data("number")),a.text(r),n(e+1)}}$(window).scrollTop()<f&&o()}$(window).on("scroll",function(){n(1)});var e=$("#currentSection"),a=$("#sectionName"),i=$("#sectionCount"),c=$(".site-section"),r=c.length,f=$(c[0]).height();!function(){$(window).scrollTop()>0&&$(window).scrollTop()>f?$.each(c,function(t,o){var n=$(o).offset().top;if(t+1<c.length){var i=$(c[t+1]).offset().top;if(n<=$(window).scrollTop()&&i>$(window).scrollTop()){var r=$(o).data("name"),f=$(o).data("number");e.text("0"+f),a.text(r)}}}):o(),r<10?i.text("0"+c.length):i.text(c.length)}()}(),function(){$(".go-to-top").each(function(){$(this).click(function(){return $("html, body").animate({scrollTop:0},"slow"),!1})})}(),function(){var t=$(".project");$(".project-page").length>0||t.on("mouseover",function(){var t=$(this);setTimeout(function(){t.find(".project__bg").fadeIn(500)},100),$(this).find(".project__canvas").css({boxShadow:"none",background:"none"})}).on("mouseleave",function(){function t(t,n){o.find(".project__canvas").css({boxShadow:"0 0 13px 1px "+t,backgroundColor:n})}var o=$(this);setTimeout(function(){o.find(".project__bg").fadeOut(500)},100),setTimeout(function(){o.hasClass("project-zernobot")&&t("#08171c","#194957"),o.hasClass("project-logbook")&&t("#f2f2f2","#f2f2f2"),o.hasClass("project-street-quests")&&t("#060606","#2c2c2c")},500)})}()}var o=$("#routerBlock");app.renderHome=function(){var n=function(t){o.append(t)};$.get(homeTemplateUrl).then(n).then(t)},app.renderHome(),app.navigation=function(){}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYXBwIiwiQkFTRV9VUkwiLCJob21lVGVtcGxhdGVVcmwiLCIkIiwiZG9jdW1lbnQiLCJpbmNsdWRlTW9kdWxlcyIsImVhc2luZyIsImZpeGluZ0hlYWRlciIsIiRzZWxlY3RvciIsIiRoZWFkZXIiLCJzZWxlY3Rvck9mZnNldFRvcCIsInNjcm9sbFRvcCIsIndpbmRvdyIsInJlbW92ZUNsYXNzIiwic2V0U2l0ZUd1aWRlIiwiJGN1cnJlbnRTZWN0aW9uIiwibnVtYmVyIiwidGV4dCIsInNldFN0YXRlQnlGaXJzSXRlbSIsIiRzZWN0aW9uTmFtZSIsImRhdGEiLCJmaXJzdE51bWJlciIsIiRzZWN0aW9ucyIsInNldERlZmF1bHRTdGF0ZSIsIm5hbWUiLCJzZWN0aW9uTmFtZSIsInN0YXJ0UG9pbnQiLCJzZWN0aW9uTnVtYmVyIiwic2V0Q3VycmVudFNlY3Rpb25OdW1iZXIiLCJpIiwiZmlyc3RTZWN0aW9uSGVpZ2h0IiwiY291bnQiLCJsZW5ndGgiLCIkc2VjdGlvbnNDb3VudCIsImhlaWdodCIsImVhY2giLCJuZXh0SXRlbU9mZnNldFRvcCIsIml0ZW1PZmZzZXRUb3AiLCJpdGVtIiwib2Zmc2V0IiwidG9wIiwidGhpcyIsImNsaWNrIiwiYW5pbWF0ZSIsIiRwcm9qZWN0cyIsIiR0aGlzIiwiZmluZCIsIm9uIiwiYmFja2dyb3VuZCIsImZhZGVJbiIsImNzcyIsImJveFNoYWRvdyIsImJhY2tncm91bmRDb2xvciIsImJveFNoYWRvd0NvbG9yIiwiYmdDb2xvciIsInNldFRpbWVvdXQiLCJmYWRlT3V0IiwiaGFzQ2xhc3MiLCIkcm91dGVyQmxvY2siLCJkaXNwbGF5SG9tZSIsInRlbXBsYXRlIiwicmVuZGVySG9tZSIsImFwcGVuZCIsImdldCIsInRoZW4iLCJuYXZpZ2F0aW9uIl0sIm1hcHBpbmdzIjoiWUFHQSxJQUFJQSxRQUtBQyxTQUFXLGFBS1hDLGdCQUFrQkQsU0FBVyxXQUFqQ0UsR0FBQUMsVUFBSUYsTUFBQUEs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QkwsVUFBTUMsZ0JBQU5PLEVBQ0RELGdCQUZERSxJQU5xQyxHQUFBVCxHQUFuQzFDLEVBQUFzQyxLQVlFRSxZQUFBQSxXQUNERSxFQUFBQyxLQUFBLGdCQUFBVSxRQUFBLE1BTEEsS0FRQ2IsV0FBQUEsV0FDREUsRUFBQVksU0FBQSxxQkFMQ2QsRUFBUSxVQUFXLFdBU3BCRSxFQUFBWSxTQUFBLG9CQUNGZCxFQVpELFVBQUEsV0FnQlBFLEVBQUFZLFNBQUEsMEJBMU5MZCxFQUFBLFVBQUEsWUFzTmUsVUF0TmJ2QyxHQUFBQSxHQUFnQkQsRUFBQSxlQUVkSCxLQUFJMEQsV0FBQUEsV0FHQSxHQUFJQyxHQUFjLFNBQVVDLEdBRDVCQyxFQUFhQyxPQUFBRixHQUdaekQsR0FGRDRELElBQUE3RCxpQkFLUzhELEtBQUtMLEdBRFJ6RCxLQUFBQSxJQUtWRixJQUFJNkQsYUFFSjdELElBQUlpRSxXQUFhIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHbG9iYWwgb2JqZWN0IG9mIEFwcFxuICovXG52YXIgYXBwID0ge307XG5cbi8qKlxuICogQmFzZSBVUkxcbiAqL1xudmFyIEJBU0VfVVJMID0gJ3RlbXBsYXRlcy8nO1xuXG4vKipcbiAqIEhvbWUgcGFnZSBVUkxcbiAqL1xudmFyIGhvbWVUZW1wbGF0ZVVybCA9IEJBU0VfVVJMICsgJ2hvbWUuaHRtbCc7XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciAkcm91dGVyQmxvY2sgPSAkKCcjcm91dGVyQmxvY2snKTtcblxuICAgIGFwcC5yZW5kZXJIb21lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGlzcGxheUhvbWUgPSBmdW5jdGlvbiAodGVtcGxhdGUpIHtcbiAgICAgICAgICAgICRyb3V0ZXJCbG9jay5hcHBlbmQodGVtcGxhdGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgICQuZ2V0KGhvbWVUZW1wbGF0ZVVybClcbiAgICAgICAgICAgICAgICAudGhlbihkaXNwbGF5SG9tZSlcbiAgICAgICAgICAgICAgICAudGhlbihpbmNsdWRlTW9kdWxlcyk7XG4gICAgfTtcblxuICAgIGFwcC5yZW5kZXJIb21lKCk7XG5cbiAgICBhcHAubmF2aWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbmNsdWRlIG1vZHVsZXMgbGlzdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluY2x1ZGVNb2R1bGVzKCkge1xuICAgICAgICA7KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIFxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEFPUyBhbmltYXRpb25zIGluaXRcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBBT1MuaW5pdCh7XG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlJ1xuICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgfSgpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpeGVkIGhlYWRlciBvbiB0aGUgc2Nyb2xsIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICA7KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIFxuICAgICAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZml4aW5nSGVhZGVyKCQoJyNtYWluVGl0bGUnKSk7XG4gICAgICAgICAgICBmaXhpbmdIZWFkZXIoJCgnLmZpeGVkLWhlYWRlci1mbGFnJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgICBmdW5jdGlvbiBmaXhpbmdIZWFkZXIoJHNlbGVjdG9yKSB7XG4gICAgICAgICAgICB2YXIgJGhlYWRlciA9ICQoJyNoZWFkZXInKTtcbiAgICAgICAgXG4gICAgICAgICAgICBpZiAoJHNlbGVjdG9yLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgICAgIHZhciBzZWxlY3Rvck9mZnNldFRvcCA9ICRzZWxlY3Rvci5vZmZzZXQoKS50b3A7XG4gICAgICAgIFxuICAgICAgICAgICAgaWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+PSBzZWxlY3Rvck9mZnNldFRvcCkge1xuICAgICAgICAgICAgICAkaGVhZGVyLmFkZENsYXNzKCdmaXhlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICRoZWFkZXIucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgfSgpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJpZ2h0IHNpdGUgZ3VpZGVcbiAgICAgICAgICovXG4gICAgICAgIDsoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIFxuICAgICAgICAgICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2V0U2l0ZUd1aWRlKDEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAgICAgdmFyICRjdXJyZW50U2VjdGlvbiA9ICQoJyNjdXJyZW50U2VjdGlvbicpLFxuICAgICAgICAgICAgICAgICRzZWN0aW9uTmFtZSA9ICQoJyNzZWN0aW9uTmFtZScpLFxuICAgICAgICAgICAgICAgICRzZWN0aW9uc0NvdW50ID0gJCgnI3NlY3Rpb25Db3VudCcpLFxuICAgICAgICAgICAgICAgICRzZWN0aW9ucyA9ICQoJy5zaXRlLXNlY3Rpb24nKSxcbiAgICAgICAgICAgICAgICBjb3VudCA9ICRzZWN0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgZmlyc3RTZWN0aW9uSGVpZ2h0ID0gJCgkc2VjdGlvbnNbMF0pLmhlaWdodCgpO1xuICAgICAgICBcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldEN1cnJlbnRTZWN0aW9uTnVtYmVyKG51bWJlcikge1xuICAgICAgICAgICAgICAgIGlmIChudW1iZXIgPCAxMCkge1xuICAgICAgICAgICAgICAgICAgICAkY3VycmVudFNlY3Rpb24udGV4dCgnMCcgKyBudW1iZXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50U2VjdGlvbi50ZXh0KG51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFN0YXRlQnlGaXJzSXRlbSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9ICQoJHNlY3Rpb25zWzBdKS5kYXRhKCduYW1lJyksXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TnVtYmVyID0gJCgkc2VjdGlvbnNbMF0pLmRhdGEoJ251bWJlcicpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAkY3VycmVudFNlY3Rpb24udGV4dCgnMCcgKyBmaXJzdE51bWJlcik7XG4gICAgICAgICAgICAgICAgJHNlY3Rpb25OYW1lLnRleHQobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0RGVmYXVsdFN0YXRlKCkge1xuICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gMCAmJiAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiBmaXJzdFNlY3Rpb25IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKCRzZWN0aW9ucywgZnVuY3Rpb24oaSwgaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1PZmZzZXRUb3AgPSAkKGl0ZW0pLm9mZnNldCgpLnRvcDtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSArIDEgPCAkc2VjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRJdGVtT2Zmc2V0VG9wID0gJCgkc2VjdGlvbnNbaSArIDFdKS5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGl0ZW1PZmZzZXRUb3AgPD0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpICYmIG5leHRJdGVtT2Zmc2V0VG9wID4gJCh3aW5kb3cpLnNjcm9sbFRvcCgpICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gJChpdGVtKS5kYXRhKCduYW1lJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0TnVtYmVyID0gJChpdGVtKS5kYXRhKCdudW1iZXInKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRTZWN0aW9uLnRleHQoJzAnICsgZmlyc3ROdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZWN0aW9uTmFtZS50ZXh0KG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRTdGF0ZUJ5Rmlyc0l0ZW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA8IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICRzZWN0aW9uc0NvdW50LnRleHQoJzAnICsgJHNlY3Rpb25zLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJHNlY3Rpb25zQ291bnQudGV4dCgkc2VjdGlvbnMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREZWZhdWx0U3RhdGUoKTtcbiAgICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRTaXRlR3VpZGUoaSkge1xuICAgICAgICAgICAgICAgIGlmICggJCgkc2VjdGlvbnNbaV0pLm9mZnNldCgpICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRQb2ludCA9ICQoJHNlY3Rpb25zW2ldKS5vZmZzZXQoKS50b3AgLSAyNTA7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gc3RhcnRQb2ludCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlY3Rpb25OYW1lID0gJCgkc2VjdGlvbnNbaV0pLmRhdGEoJ25hbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uTnVtYmVyID0gJCgkc2VjdGlvbnNbaV0pLmRhdGEoJ251bWJlcicpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRTZWN0aW9uTnVtYmVyKHNlY3Rpb25OdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNlY3Rpb25OYW1lLnRleHQoc2VjdGlvbk5hbWUpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNpdGVHdWlkZShpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICggJCh3aW5kb3cpLnNjcm9sbFRvcCgpIDwgZmlyc3RTZWN0aW9uSGVpZ2h0ICkge1xuICAgICAgICAgICAgICAgICAgICBzZXRTdGF0ZUJ5Rmlyc0l0ZW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB9KCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW5pbWF0aW9uIFwiR28gdG8gdG9wXCJcbiAgICAgICAgICovXG4gICAgICAgIDsoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgXG4gICAgICAgICAgJCgnLmdvLXRvLXRvcCcpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgXG4gICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IDBcbiAgICAgICAgICAgICAgfSwgJ3Nsb3cnKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgfSgpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2plY3QgYmFja2dyb3VuZCBhbmltYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIDsoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICBcbiAgICAgICAgICB2YXIgJHByb2plY3RzID0gJCgnLnByb2plY3QnKTtcbiAgICAgICAgICB2YXIgJHByb2plY3RQYWdlID0gJCgnLnByb2plY3QtcGFnZScpO1xuICAgICAgICBcbiAgICAgICAgICBpZiAoJHByb2plY3RQYWdlLmxlbmd0aCA+IDApIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgICAgJHByb2plY3RzLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICBcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAkdGhpcy5maW5kKCcucHJvamVjdF9fYmcnKS5mYWRlSW4oNTAwKTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIFxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcucHJvamVjdF9fY2FudmFzJykuY3NzKHtcbiAgICAgICAgICAgICAgYm94U2hhZG93OiAnbm9uZScsXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdub25lJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICBcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFuaW1hdGUoYm94U2hhZG93Q29sb3IsIGJnQ29sb3IpIHtcbiAgICAgICAgICAgICAgJHRoaXMuZmluZCgnLnByb2plY3RfX2NhbnZhcycpLmNzcyh7XG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCAwIDEzcHggMXB4ICcgKyBib3hTaGFkb3dDb2xvcixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJnQ29sb3JcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICR0aGlzLmZpbmQoJy5wcm9qZWN0X19iZycpLmZhZGVPdXQoNTAwKTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIFxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmICgkdGhpcy5oYXNDbGFzcygncHJvamVjdC16ZXJub2JvdCcpKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZSgnIzA4MTcxYycsICcjMTk0OTU3Jyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICAgIGlmICgkdGhpcy5oYXNDbGFzcygncHJvamVjdC1sb2dib29rJykpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlKCcjZjJmMmYyJywgJyNmMmYyZjInKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKCR0aGlzLmhhc0NsYXNzKCdwcm9qZWN0LXN0cmVldC1xdWVzdHMnKSkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGUoJyMwNjA2MDYnLCAnIzJjMmMyYycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA1MDApXG4gICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB9KCkpO1xuICAgIH1cblxufSk7Il19
